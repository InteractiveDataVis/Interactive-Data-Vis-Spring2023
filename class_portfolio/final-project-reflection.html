<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='UTF-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css'>
  <link rel='stylesheet' href='style.css'>
  <link rel='stylesheet' href='prism.css'>
  <title>DATA73200 Interactive Data Visualization Spring 2023 </title>
  <link rel='icon' type='image/x-icon' href='img/d3-black.png'>
</head>
<body>
  <div id='navbar'></div>
  <div class='content'>
    <h1>Reflections on the final project</h1>
    <p>
      These reflections center on my experience developing my final project for
      this class, <a href='https://klp.github.io/Interactive-Data-Vis-Spring2023/project/data-viz.html' target='_blank'>
        Visualizating Utah's Population Growth</a>.
    </p>
    <h2>Design considerations</h2>
    <h3>Potential process change</h3>
    <p>
      In hindsight, a timeboxed effort to preemptive explore the data before 
      committing to visualization sketches may have helped. Having departed
      from the DAV program at the GC two years ago and moving out of direct 
      data work one year ago, I've enjoyed moving <abbr title="although it's starting to reemerge in my professional work">
      away from a stricter data analysis practice</abbr>. Spending time 
      analyzing the data outside of visualizing it with D3 may have better 
      informed my proposed designs to tell a specific story.
    </p>
    <h3>Clarity & simplicity</h3>
    <p>
      My emphasis when designing this project on clarity and simplicity grew 
      out of anxiety about my design competency and understanding. Still 
      keeping these values in mind, I can offer the following examples of how
      clarity and simplicity were achieved.
      <ol>
        <li>Visualization colors are selected to stand out from one another</li>
        <li>Fonts are easy readable even while highlighting with a cursor</li>
        <li>Shapes drawn by D3 have a stroke to outline when they start and stop</li>
        <li>Mousing over a visualization element changes the styling so that 
          it's apparent which element is being hovered over
            <ul>
              <li>Colors change subtly on hover</li>
              <li>Strokes become slightly stronger when moused over</li>
              <li>Et cetera</li>
            </ul>
        </li>
      </ol>
    </p>
    <h3>Graph types we didn't cover in class</h3>
    In this case, I created a stacked bar chart, which is a variant of bar 
    charts we made in class, and a circle pack for hierarchical data between 
    regions, divisions and states. Building these chart types, especially the 
    circle pack, provided an extra challenge, and helped shape meaningful views
    on the data related to migration types and populations for my project topic.
    <h3>Color choice</h3>
    <p>
      In principle, I believe 'accessibility is for everyone'. While I 
      <abbr title="I'm pretty sure my html isn't as semantic as it could be">
      don't always observe it in practice</abbr>, I  believe that as 
      people's lives and contexts change, they can benefit from considerations 
      made for accessibility. In this case, I focused on using accessible color 
      schemes for a selfish reason.
    </p>
    <img src='img/color_scheme.png' alt='Bar chart showing color scheme chosen with hex 
    codes'>
    <p>
      I used two online resources to develop my inclusive color palettes:
      <ul>
        <li><a href='https://medium.com/@allieofisher/inclusive-color-palettes-for-the-web-bbfe8cf2410e' target='_blank'>
          Inclusive Color Palettes for the Web</a> by Allie Ofisher</li>
        <li><a href='https://venngage.com/tools/accessible-color-palette-generator' target='_blank'>
          Accessible color palette generator</a> available via 
          <a href='https://venngage.com/' target='_blank'>Venngage</a></li>
      </ul>
      For whatever it's worth, I'm told that the default, regional color coding 
      for the circle pack I created for migrants to Utah by state looks pleasing
      given the relative sizes of the circles, though I'm not in a position to 
      judge that ;) .
    </p>
    <img src='img/circle_pack.png' alt='Circle pack graph of migrants to Utah by state, coded by region'>
    <h2>The most useful thing I learned</h2>
    <p>
      Locating a single useful thing I learned while working on this project 
      this semester is difficult. But I can list a couple with reasons why I 
      found them useful.
    </p>
    <div class='columns'>
      <div class='column is-one-third'>
        Domain and Range in D3
      </div>
      <div class='column'>
        These are crucial concepts to nail in D3. At times I've struggled to 
        understand them, but I feel I understand them better 
        now.
      </div>
    </div>
    <div class='columns'>
      <div class='column is-one-third'>
        Subtle animations / styles
      </div>
      <div class='column'>
        Learning how to use animations, styles and transitions tastefully can 
        aid in understanding and polish to interactive dataviz.
      </div>
    </div>
    <div class='columns'>
      <div class='column is-one-third'>
        Working with data structures (in JS)
      </div>
      <div class='column'>
        I feel reasonably comfortable understanding how to work with data 
        structures in Javascript, including 
        <a href='https://www.freecodecamp.org/news/how-to-use-javascript-collections-map-and-set/' target='_blank'>collections</a>.
      </div>
    </div>
    <div class='columns'>
      <div class='column is-one-third'>
        A joy in writing CSS + JS
      </div>
      <div class='column'>
        I enjoy how these technologies can add meaning to pages and applications
        on the web. I'm even considering doing it for a living.
      </div>
    </div>
    <h2>How critiques helped shape my project</h2>
    <p>
      The critique that had the greatest impact on my project was to take a
      comparative approach to my exploration of Utah's population growth during 
      the years covered by the 2020 US Census. This recommendation helped give
      me something too talk about when I realized it was too late to bring in 
      other data sources to tell the story I originally proposed.
    </p>
    <h2>Cutting project scope</h2>
    <p>
      My final output differed from what was proposed in my prospectus quite a 
      bit. A general comment would be that my prospectus would involve multiple
      datasets to correlate 
    </p>
    <h2>Major challenge</h2>
    <p>
      Wrangling my own curiousity about learning the ins-and-outs of D3/Javascript
      was the biggest challenge in completing my final project.
    </p>
    <h3>Data wrangling</h3>
    <p>
      When I began my final project for the class, I anticipated some data 
      transformation needs. Having worked in data engineering previously, I've 
      used Python and SQL to process raw data into aggregate tables an untold 
      number of times. Outside of enriching the 
      <a href='https://www.kaggle.com/datasets/finnegannguyen/statetostate-migration-flows-from-2010-to-2019'
      target='_blank'>US migration dataset</a>  
      with regions and divisions specified by the US Census Board, 
      I decided to perform as many data transformations as possible using 
      Javascript. This decision resulted in a few knock-on effects to how the 
      visualizations were executed under time constraints.
    </p>
    <h4>Rabbit holes</h4>
    <p>
      The seduction of learning sometimes overrides the determination to 
      stick to a brief and project goals for someone like me. My first week of
      work included enough data processing in Javascript that my only output on
      the page was a simple bar chart showing the three different types of
      migration to Utah between 2010 and 2019. Given that our class focused 
      on data visualization, I felt the need to curb my original ambition.  
    </p>
    <h4>Simplifying data to focus on visualization</h4>
    <p>
      In the final Javascript file for my project, you will still see evidence
      of me striving to simplify the data to allow for visualization to be at the 
      forefront of my attention. The best existing example of this intention is 
      the creation of an array of objects used to build my first visualization:
    </p>
    <pre class='flush-left'>
    <code class='language-javascript'>
    const statesData = [
      { state: 'Utah', abbr: 'UT', percentChange: 18.4, popChange: 507731, changeCat: 'fastest' },
      { state: 'Idaho', abbr: 'ID', percentChange: 17.3, popChange: 271524, changeCat: 'fastest' },
      { state: 'Texas', abbr: 'TX', percentChange: 15.9, popChange: 3999444, changeCat: 'fastest' },
      { state: 'North Dakota', abbr: 'ND', percentChange: 15.8, popChange: 106503, changeCat: 'fastest' },
      { state: 'Neveda', abbr: 'NV', percentChange: 15,  popChange: 404063, changeCat: 'fastest' },
      { state: 'Pennsylvania', abbr: 'PA', percentChange: 2.4, popChange: 300321, changeCat: 'slowest' },
      { state: 'Illinois', abbr: 'IL', percentChange: -0.1, popChange: -19041, changeCat: 'shrinking' },
      { state: 'Mississippi', abbr: 'MS', percentChange: -0.2, popChange: -1816, changeCat: 'shrinking' },
      { state: 'West Virginia', abbr: 'WV', percentChange: -3.2, popChange: -68207, changeCat: 'shrinking' },
    ]
    </code>
    </pre>
    <img src='img/fastest_growing_states_barchart.png' alt='Barchart of Fastest Growing State'>
    <p>
      I used the 
      <a href='https://www2.census.gov/programs-surveys/decennial/2020/data/apportionment/apportionment-2020-tableE.pdf'
      target='_blank'>
        Numeric and Percentage Changing in Resident Population
      </a> data and hardcoded it into an array of objects to avoid data 
      processing. This strategy definitely simplified data processing, but it 
      ignored the basic competency of reading data into our page using D3, a 
      competency that I wanted to demonstrate.
    </p>
    <h3>Off the wagon *again*</h3>
    <p>
      Ultimately, I couldn't help myself, and as I ingested the rawer 
      census data (<a href='https://www.kaggle.com/datasets/finnegannguyen/statetostate-migration-flows-from-2010-to-2019'
      target='_blank'>link</a>) I started to process the data in Javascript again.
      The code below is likely the most succinct example of me exploring vanilla
      JS to aggregate.
    </p>
    <pre class='flush-left'>
    <code class='language-javascript'>
    const stateGroupedData = utahRawData.reduce((accumulator, item) => {
      if (accumulator[item.from]) {
        accumulator[item.from].number_of_people += item.number_of_people
      } else {
        accumulator[item.from] = {
          number_of_people: item.number_of_people,
          region: item.from_region,
          division: item.from_division
          }
        } 
        return accumulator
      }, {})
    </code>
    </pre>
    <p>
      From a pure learning perspective, working on this anonymous function was 
      deeply satisfying. The concepts I learned and used are:
      <ol>
        <li>
          Callback or higher order functions, in this case <code>reduce()</code>
          , which take other functions as an argument
        </li>
        <li>
          How <code>reduce()</code> 
          <a href='https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce'
          target='_blank'>
            WORKS</a>
        </li>
        <li>
          An accumulator pattern using Javascript, which I reused again 
          while processing the data for this project 
        </li>
      </ol>
      However, I believe I robbed a semi-significant chunk of time from my 
      visualization effort. I have mixed feelings about this time theft; while 
      the  assessment of the project is on how well the data is visualized, 
      shoehorning some vanilla JS to aid in that experience did help keep me 
      engaged in the assignment, and I found that learning enriching when 
      looking back on it, even if it doesn't 'count' in this context.
    </p>
    <h2>Future iterations</h2>
    <p>
      Outside of building more of a story through analysis of additional data 
      sources, I'm intrigued by the circle pack that exists today, and how that
      might be developed in the future. If I 
      <abbr title="having leaned on functional programming in professional circumstances, I am terrified of state">
      introduced state</abbr>, I could imagine creating a series of drill downs 
      from regions, to divisions, to states on a single graph. I also tried 
      (and failed) to have the circles in the pack sortable through click and 
      drag. Being able to group each circle by color code could help in 
      understanding the orders of magnitude involved. I couldn't keep the 
      circles in view while re-sorting a given circle.
    </p>

    <button id='disappear-button'>Make it all disappear</button>
  </div>
  <script src='prism.js'></script>
  <script src='main.js'></script>
</body>
</html>